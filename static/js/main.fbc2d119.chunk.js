(this["webpackJsonpCalendar-Planner"]=this["webpackJsonpCalendar-Planner"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(7),l=a.n(o),s=(a(13),a(1)),i=a(2),c=a(4),d=a(3),u=a(5),m=(a(14),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).makeDayInput=function(){var e=[];e.push(n.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"Day"));for(var t=0;t<7;t++)0!=a.props.grid[a.props.week-1][t]&&e.push(n.a.createElement("option",{value:a.props.grid[a.props.week-1][t]},a.props.grid[a.props.week-1][t]));return n.a.createElement("select",{id:"addCard_day",className:"input"},e)},a.makeTimeInput=function(){var e=[];e.push(n.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"Start Time"));for(var t=0;t<24;t++){var a=t+":00";e.push(n.a.createElement("option",{value:t},a))}return n.a.createElement("select",{id:"addCard_time",className:"input"},e)},a.makeHeightInput=function(){var e=[];e.push(n.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"Length"));for(var t=1;t<=24;t++){var a=t;e.push(n.a.createElement("option",{value:t},a))}return n.a.createElement("select",{id:"addCard_height",className:"input"},e)},a.makeMessageInput=function(){return n.a.createElement("input",{type:"text",id:"addCard_message",className:"input inputText",placeholder:"Activity"})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"break"}),this.makeDayInput(),n.a.createElement("br",null),this.makeTimeInput(),n.a.createElement("br",null),this.makeHeightInput(),n.a.createElement("br",null),this.makeMessageInput(),n.a.createElement("br",null))}}]),t}(r.Component)),g=JSON.parse(localStorage.getItem("cards"));null==g&&(g=[]);var p=JSON.parse(localStorage.getItem("lightBox"));null==p?document.documentElement.style.setProperty("--lightBox","#f7f7f7"):document.documentElement.style.setProperty("--lightBox",p);var h=JSON.parse(localStorage.getItem("normalBox"));null==h?document.documentElement.style.setProperty("--normalBox","#ededed"):document.documentElement.style.setProperty("--normalBox",h);var y=JSON.parse(localStorage.getItem("darkBox"));null==y?document.documentElement.style.setProperty("--darkBox","#d6d6d6"):document.documentElement.style.setProperty("--darkBox",y);var v=JSON.parse(localStorage.getItem("mainColour"));null==v?document.documentElement.style.setProperty("--mainColour","#79B508"):document.documentElement.style.setProperty("--mainColour",v);var f=JSON.parse(localStorage.getItem("darkMainColour"));null==f?document.documentElement.style.setProperty("--darkMainColour","#5B8905"):document.documentElement.style.setProperty("--darkMainColour",f);var E=JSON.parse(localStorage.getItem("backgroundColour"));null==E?document.documentElement.style.setProperty("--backgroundColour","#FFFFFF"):document.documentElement.style.setProperty("--backgroundColour",E);var k=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).incYear=function(){a.setState({year:a.state.year+1,week:1,calGrid:a.getCalendarDates(a.state.year+1,a.state.month)}),a.saveTimeState(a.state.year+1,a.state.month,1)},a.decYear=function(){0!=a.state.year&&(a.setState({year:a.state.year-1,week:1,calGrid:a.getCalendarDates(a.state.year-1,a.state.month)}),a.saveTimeState(a.state.year-1,a.state.month,1))},a.incMonth=function(){12==a.state.month?(a.setState({year:a.state.year+1,month:1,week:1,calGrid:a.getCalendarDates(a.state.year+1,1)}),a.saveTimeState(a.state.year+1,1,1)):(a.setState({month:a.state.month+1,week:1,calGrid:a.getCalendarDates(a.state.year,a.state.month+1)}),a.saveTimeState(a.state.year,a.state.month+1,1))},a.decMonth=function(){1==a.state.month?(a.setState({year:a.state.year-1,month:12,week:1,calGrid:a.getCalendarDates(a.state.year-1,12)}),a.saveTimeState(a.state.year-1,12,1)):(a.setState({month:a.state.month-1,week:1,calGrid:a.getCalendarDates(a.state.year,a.state.month-1)}),a.saveTimeState(a.state.year,a.state.month-1,1))},a.incWeek=function(){a.state.week<a.howManyWeeks()&&(a.setState({week:a.state.week+1}),a.saveTimeState(a.state.year,a.state.month,a.state.week+1))},a.decWeek=function(){a.state.week>1&&(a.setState({week:a.state.week-1}),a.saveTimeState(a.state.year,a.state.month,a.state.week-1))},a.saveTimeState=function(e,t,a){localStorage.setItem("year",JSON.stringify(e)),localStorage.setItem("month",JSON.stringify(t)),localStorage.setItem("week",JSON.stringify(a))},a.createTimeColumn=function(){for(var e=[],t=0;t<24;t++)e.push(n.a.createElement("div",{class:"outer",className:"box darkBoxColour Text"},t+":00"));return n.a.createElement("div",{className:"Column",id:"time_column"},n.a.createElement("div",{className:"box White"}),e)},a.createBoard=function(){console.log(a.state.year+"_"+a.state.month+"_"+a.state.week);var e=[],t=a.placeExistingCards();e.push(a.createTimeColumn());for(var r=0;r<7;r++)a.state.calGrid[a.state.week-1][r]?e.push(a.createColumn(r,t)):e.push(a.createBlankColumn(r));return n.a.createElement("div",{id:"board",className:"Calendar"},e)},a.createBlankColumn=function(e){for(var t=[],r=a.state.dayNames[e],o=0;o<24;o++)t.push(n.a.createElement("div",{className:"clearBox lightBoxColour"}));return n.a.createElement("div",{className:"Column",id:e},n.a.createElement("div",{className:"box darkBoxColour Text"},r),t)},a.createColumn=function(e,t){for(var r=[],o=a.state.dayNames[e],l=0;l<24;l++)r.push(n.a.createElement("div",{id:"box_"+a.state.year+"_"+a.state.month+"_"+a.state.calGrid[a.state.week-1][e]+"_"+l,class:"outer",className:"box normalBoxColour Text",onDrop:a.drop,onDragOver:a.allowDrop},a.placeValidCards(t,a.state.calGrid[a.state.week-1][e],l)));return n.a.createElement("div",{className:"Column",id:e},n.a.createElement("div",{className:"box darkBoxColour Text"},a.state.calGrid[a.state.week-1][e]+" "+o),r)},a.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},a.getMaxDays=function(e,t){return[31,a.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t-1]},a.getCalendarDates=function(e,t){for(var r=[[],[],[],[],[],[]],n=new Date((e+"-"+t+"-1").replace(/-/g,"/")).getDay(),o=1,l=0;l<6;l++)for(var s=0;s<7;s++)1==o&&0==l?r[l][s]=n==s?1:0:o>a.getMaxDays(e,t)?r[l][s]=0:r[l][s]=o,0!=r[l][s]&&o++;return r},a.makeCard=function(e,t,r){return n.a.createElement("div",{id:e,class:"inner",className:"mainColour CardText card",draggable:"true",style:t,onDragStart:a.drag},r)},a.drag=function(e){e.dataTransfer.setData("text",e.target.id)},a.drop=function(e){e.preventDefault();var t=e.dataTransfer.getData("text"),r=document.getElementById(t);a.isValidMove(e,r)&&(console.log(r),e.target.appendChild(r),r.id="card_"+r.id.split("_")[1]+"_"+e.target.id+"_"+r.id.split("_")[7],a.SaveJSON(e,r),console.log(r.id),a.refreshPage())},a.dropRemove=function(e){e.preventDefault();var t=e.dataTransfer.getData("text"),r=document.getElementById(t);a.removeCard(r.id.split("_")[7]),a.refreshPage()},a.isValidMove=function(e,t){return!!/^box.+$/.test(e.target.id)&&(!!a.checkOntopOfExistingCard(e,t,a.getAllCardsOnBoard())&&!(Number(e.target.id.split("_")[4])+Number(t.id.split("_")[1])>24))},a.checkOntopOfExistingCard=function(e,t,a){for(var r=[[],[],[],[],[],[],[]],n=0;n<a.length;n++)if(t!=a[n])for(var o=a[n].id.split("_"),l=o[1],s=o[3],i=o[4],c=o[5],d=o[6],u=new Date((s+"-"+i+"-"+c).replace(/-/g,"/")).getDay(),m=0;m<l;m++)r[u][Number(d)+Number(m)]=1;var g=e.target.id.split("_"),p=g[1],h=g[2],y=g[3],v=g[4],f=(u=new Date((p+"-"+h+"-"+y).replace(/-/g,"/")).getDay(),t.id.split("_")[1]);for(n=0;n<f;n++)if(1==r[u][Number(v)+Number(n)])return!1;return!0},a.getAllCardsOnBoard=function(){return document.querySelectorAll('[id*="card"]')},a.allowDrop=function(e){e.preventDefault()},a.placeExistingCards=function(){var e=[];return g.map((function(t,r){if(t.year==a.state.year&&t.month==a.state.month&&t.week==a.state.week){var n={height:20*t.length+2*(t.length-1)},o="card_"+t.length+"_box_"+t.year+"_"+t.month+"_"+t.day+"_"+t.start_time+"_"+t.id,l=a.makeCard(o,n,t.message);e.push(l)}})),e},a.placeValidCards=function(e,t,a){for(var r=0;r<e.length;r++){var n=e[r].props.id.split("_");if(n[5]==t&&n[6]==a)return e[r]}},a.SaveJSON=function(e,t){var r=t.id.split("_")[7];g[r].day=e.target.id.split("_")[3],g[r].start_time=e.target.id.split("_")[4],a.saveState()},a.saveState=function(){localStorage.setItem("cards",JSON.stringify(g)),console.log(localStorage.getItem("cards"))},a.addCard=function(){console.log("making card");var e=document.getElementById("addCard_time"),t=document.getElementById("addCard_height"),r=document.getElementById("addCard_message"),n=document.getElementById("addCard_day");if(null!=e&&null!=t&&null!=r&&null!=n)if(e=Number(e.value),t=Number(t.value),r=r.value,n=Number(n.value),console.log(e+"A"+t+"A"+r+"A"+n),""==e&&0!=e||""==t||""==r||""==n)alert("Please select all fields before adding a card.");else if(e+t>24)alert("The height of a card can't exceed (24 - Start Time).");else{var o=0;0!=g.length&&(o=g[g.length-1].id+1);var l={id:o,year:a.state.year,month:a.state.month,day:n,week:a.state.week,start_time:e,length:t,message:r};g.push(l),a.saveState(),a.refreshPage()}else alert("Error: NULL")},a.removeCard=function(e){g.splice(e,1),a.recomputeJSONIdTags(),a.refreshPage()},a.recomputeJSONIdTags=function(){for(var e=0;e<g.length;e++)g[e].id=e;a.saveState()},a.refreshPage=function(){window.location.reload()},a.howManyWeeks=function(){for(var e=1;e<a.state.calGrid.length;e++)if(0==a.state.calGrid[e][0])return e;return 6},a.openTips=function(){return n.a.createElement("div",{className:"tipText"},n.a.createElement("h5",null," Tips:"),n.a.createElement("p",null," 1. When dragging a card onto another time block, the top of the card will appear where your cursor is."),n.a.createElement("p",null," 2. Card data is currently stored on your computer via cookies. Clearing cookies will also clear your card data."),n.a.createElement("p",null," 3. When creating a card, wisely choose the Length of the card as it can't exceed (24 - (Starting Time)). (Would like to fix selection options in the future)"),n.a.createElement("p",null," -----"),n.a.createElement("h5",null," Current issues to fix:"),n.a.createElement("p",null," 1. Safari iOS can't drag/drop."),n.a.createElement("h5",null," Noted Feedbacks:"),n.a.createElement("p",null," 1. Ability to edit pre-existing cards. (Probably?)"),n.a.createElement("p",null," 2. Adding an online DB via Facebook/Gmail logins. (Most likely will do)"))},a.applyColourNormal=function(){a.setColours("#f7f7f7","#ededed","#d6d6d6","#79B508","#5B8905","#FFFFFF"),a.refreshPage()},a.applyColourPink=function(){a.setColours("#FFF0F5","#FFE4E1","#FFC1C1","#FFAEB9","#FF8C69","#FFFFFF"),a.refreshPage()},a.applyColourEpic=function(){a.setColours("red","yellow","green","orange","blue","purple"),a.refreshPage()},a.setColours=function(e,t,a,r,n,o){localStorage.setItem("lightBox",JSON.stringify(e)),localStorage.setItem("normalBox",JSON.stringify(t)),localStorage.setItem("darkBox",JSON.stringify(a)),localStorage.setItem("mainColour",JSON.stringify(r)),localStorage.setItem("darkMainColour",JSON.stringify(n)),localStorage.setItem("backgroundColour",JSON.stringify(o))},a.makeSettingButton=function(e,t,a){var r="Hider"+e,o="hideme"+e,l="backgroundHideme setting"+e+" settingDiv",s="Button tipsButton Button"+e,i="setting"+e;return n.a.createElement("div",{className:r},n.a.createElement("div",{className:o},n.a.createElement("div",{id:i,className:l},a)),n.a.createElement("button",{className:s},t))};var r=new Date,o=JSON.parse(localStorage.getItem("year")),l=JSON.parse(localStorage.getItem("month")),i=JSON.parse(localStorage.getItem("week"));return o=null==o?r.getFullYear():Number(o),l=null==l?r.getMonth()+1:Number(l),i=null==i?1:Number(i),a.state={year:o,month:l,week:i,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],calGrid:a.getCalendarDates(o,l)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App",id:"app"},n.a.createElement("meta",{name:"viewport",content:"width=device-width, user-scalable=no"}),n.a.createElement("header",{className:"header MainText"},"HOME"),n.a.createElement("div",{className:"break"}),n.a.createElement("body",{className:"body"},n.a.createElement("div",{className:"Center MainText"},n.a.createElement("button",{onClick:this.decYear,id:"decYearButton",className:"decButton Button"},"<"),this.state.year,n.a.createElement("button",{onClick:this.incYear,id:"incYearButton",className:"incButton Button"},">")),n.a.createElement("div",{className:"Center MainText"},n.a.createElement("button",{onClick:this.decMonth,id:"decMonthButton",className:"decButton Button"},"<"),this.state.monthNames[this.state.month-1],n.a.createElement("button",{onClick:this.incMonth,id:"incMonthButton",className:"incButton Button"},">")),n.a.createElement("div",{className:"Center MainText"},n.a.createElement("button",{onClick:this.decWeek,id:"decWeekButton",className:"decButton Button"},"<"),"Week "+this.state.week,n.a.createElement("button",{onClick:this.incWeek,id:"incWeekButton",className:"incButton Button"},">")),n.a.createElement("div",{className:"break"}),n.a.createElement("div",{id:"board_wrapper",className:"Center"},this.createBoard()),n.a.createElement("div",{id:"addCard",className:"addCard"},n.a.createElement(m,{grid:this.state.calGrid,week:this.state.week}),n.a.createElement("button",{onClick:this.addCard,className:"Button addCardButton"},"Add card")),n.a.createElement("img",{src:"bin-icon.png",className:"bin",onDrop:this.dropRemove,onDragOver:this.allowDrop}),n.a.createElement("div",{className:"settingButtons"},n.a.createElement("div",{className:"hideme"},n.a.createElement("button",{className:"Button tipsButton ButtonC"},"DELETE DATA"),n.a.createElement("button",{className:"Button tipsButton ButtonB"},"CUSTOM COLOURS"),this.makeSettingButton("A","PREMADE THEMES","TESTINGGGG")),this.makeSettingButton("Main","GUIDE / SETTINGS",this.openTips())),n.a.createElement("button",{onClick:this.applyColourNormal},"NORMAL"),n.a.createElement("button",{onClick:this.applyColourPink},"PINK"),n.a.createElement("button",{onClick:this.applyColourEpic},"EPIC")))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.fbc2d119.chunk.js.map